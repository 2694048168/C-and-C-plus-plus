set(CPACK_PACKAGE_NAME                  study_cmake)
set(CPACK_PACKAGING_INSTALL_PREFIX      "/usr/local")
set(CPACK_GENERATOR                     "DEB" CACHE STRING "Semicolon separated list of generators")
set(CPACK_PROJECT_URL                   "https://github.com/eglinuxer/study_cmake")
set(CPACK_PACKAGE_VENDOR                "Eglinux")
set(CPACK_PACKAGE_CONTACT               "Eglinux <mthreads0755@gmail.com>")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY   "Eglinux study cmake")
set(CPACK_PACKAGE_VERSION_MAJOR         ${PROJECT_VERSION_MAJOR})
set(CPACK_PACKAGE_VERSION_MINOR         ${PROJECT_VERSION_MINOR})
set(CPACK_PACKAGE_VERSION_PATCH         ${PROJECT_VERSION_PATCH})
set(CPACK_PACKAGE_VERSION               "${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}.${PROJECT_VERSION_PATCH}")

set(CPACK_PACKAGE_RELOCATABLE OFF CACHE BOOL "Build relocatable package")

# set(CPACK_RPM_PACKAGE_LICENSE "MIT")
set(CPACK_RPM_PACKAGE_GROUP             "utils")
set(CPACK_DEBIAN_PACKAGE_SECTION        "utils")
set(CPACK_RPM_PACKAGE_URL               ${CPACK_PROJECT_URL})
set(CPACK_DEBIAN_PACKAGE_HOMEPAGE       ${CPACK_PROJECT_URL})
set(CPACK_RPM_PACKAGE_DESCRIPTION       "Eglinux study cmake")
set(CPACK_DEBIAN_PACKAGE_DESCRIPTION    "Eglinux study cmake")

set(CPACK_DEBIAN_PACKAGE_ARCHITECTURE   "amd64")
set(CPACK_RPM_PACKAGE_ARCHITECTURE      "amd64")

set(CPACK_RPM_FILE_NAME                 "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}")
set(CPACK_DEBIAN_FILE_NAME              "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}")

if(CPACK_RPM_PACKAGE_ARCHITECTURE)
    set(CPACK_RPM_FILE_NAME             "${CPACK_RPM_FILE_NAME}.${CPACK_RPM_PACKAGE_ARCHITECTURE}")
endif()
if(CPACK_DEBIAN_PACKAGE_ARCHITECTURE)
    set(CPACK_DEBIAN_FILE_NAME          "${CPACK_DEBIAN_FILE_NAME}.${CPACK_DEBIAN_PACKAGE_ARCHITECTURE}")
endif()

set(CPACK_RPM_FILE_NAME                 "${CPACK_RPM_FILE_NAME}.rpm")
set(CPACK_DEBIAN_FILE_NAME              "${CPACK_DEBIAN_FILE_NAME}.deb")

set(CPACK_PACKAGE_DESCRIPTION_FILE      ${CMAKE_CURRENT_LIST_DIR}/Description.txt)
set(CPACK_RESOURCE_FILE_WELCOME         ${CMAKE_CURRENT_LIST_DIR}/Welcome.txt)
set(CPACK_RESOURCE_FILE_LICENSE         ${CMAKE_CURRENT_LIST_DIR}/License.txt)
set(CPACK_RESOURCE_FILE_README          ${CMAKE_CURRENT_LIST_DIR}/Readme.txt)
set(CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA "${CMAKE_CURRENT_SOURCE_DIR}/prerm;${CMAKE_CURRENT_SOURCE_DIR}/preinst;${CMAKE_CURRENT_SOURCE_DIR}/postinst;${CMAKE_CURRENT_SOURCE_DIR}/postrm")

set(CPACK_RPM_PRE_INSTALL_SCRIPT_FILE ${CMAKE_CURRENT_SOURCE_DIR}/preinst)
set(CPACK_RPM_PRE_UNINSTALL_SCRIPT_FILE ${CMAKE_CURRENT_SOURCE_DIR}/prerm)
set(CPACK_RPM_POST_INSTALL_SCRIPT_FILE ${CMAKE_CURRENT_SOURCE_DIR}/postinst)
set(CPACK_RPM_POST_UNINSTALL_SCRIPT_FILE ${CMAKE_CURRENT_SOURCE_DIR}/postrm)


include(CPack)